# Портал для организаций-заказчиков медицинских организаций

## О сервисе
Данный сервис позволяет предоставить доступ организациям-заказчикам медицинской организации к информации о прохождении медосмотров сотрудниками (на основе данных из медицинской информационной системы медцентра).

Для правильной работы Портала, необходимо:
1. зпросить у администраторов медицинской информационной системы (МИС) токен для выполения запросов;
1. пользователь в МИС, от имени которого порта будет выполнять запросы, должен иметь доступ к просмотру списка организаций, информации по заявкам, иметь права на просмотр, создание, редактирование и удаление направлений на осмотр;
1. в файле projects/local_settings.py прописать:
 - MIS_URL - адрес МИС
 - MIS_TOKEN - токен, полученный у администраторов МИС
 
## Возможности
1. **Просмотр "Отчета по прошедшим"** - представитель организации-заказчика сможет сам увидеть кто из его сотрудников уже прошел медосмотр;
2. **Управление направлениями на осмотр** по сотрудникам организации - представитель организации-заказчика сможет сам создавать направления для своих сотрудников, благодаря чему в МИС, на момент прихода сотрудника на осмотр, уже будет информация по нему, что облегчит и ускорит работу регистратора в медцентре при создании заявки;
3. **Разграничение доступа к информации только по конкретным организациям** - пользователя портала можно настроить так, что он будет видеть информацию только по своей организации.

## Создание пользователя портала
Для того, чтобы предоставить организации-заказчику доступ к порталу, необходимо создать для него учетную запись:
1. Перейти в меню "Пользователи" и выбрать "Создать";
2. Указать параметры пользователя (логин, пароль, имя и т.п.)
,а также организации, к которым он будет иметь доступ (**важно** - если не указать доступные организации, создаваемый пользователь будеть видеть информацию по всем организациям из МИС) и в поле "Группы" указать к чему пользователь имеет доступ. 

## Персонализация портала
Сервис позволяет адаптировать портал под нужды конкретной мед.организации (например стилизация базовой html страницы под сайт организации). Для этой цели, можно в качестве основы использовать текущий проект, но со своими доработками (например, добавив свои html-шаблоны, css-стили и т.д.)

Для этого, достаточно:
1. создать отдельный репозиторий
1. добавить свои директории с html, css, javascript файлами
1. создать Dockerfile, который в качестве базового образа будет использовать образ текущего репозитория
```dockerfile
FROM egorkaraz/med-org-portal

COPY . /opt/app  # скопировать текущий репозиторий в образ к уже имеющемуся репозиторию
WORKDIR /opt/app

```

2. прописать в файл project/local_settings.py настройки (пример [project/local_settings.sample.py](https://github.com/Egorka96/med-org-portal/blob/master/project/local_settings.sample.py))

## Разработка

1. [Настройка среды разработки](https://github.com/Egorka96/med-org-portal/wiki/%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D1%81%D1%80%D0%B5%D0%B4%D1%8B-%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8)
2. [Добавление изменений в репозиторий](https://github.com/Egorka96/med-org-portal/wiki/%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B9-%D0%B2-%D1%80%D0%B5%D0%BF%D0%BE%D0%B7%D0%B8%D1%82%D0%BE%D1%80%D0%B8%D0%B9)
